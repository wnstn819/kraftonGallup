<!DOCTYPE html>
<script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<html>
<head>
    <title>title</title>
</head>
<script>
      $(document).ready(function () {
        $.cookie('mytoken') ? getUsername() : window.location.replace("/");

        });

    // 토큰 관리
     function getUsername(){
            $.ajax({
            type: "GET",
            headers: {
                'Authorization' : `Bearer ${$.cookie('mytoken')}`,
            },
            url: "/protected",
            data: {},
            success: (res) => {
                console.log(res);
                if (res['result'] == 'success') {
                  
                        
                }else{
                    window.location.replace("/")
                }
            }

        })
    }

    // 게시글 조회


    function find(){

    }


    function create(){
        window.location.replace("/list/create")
    }


    // 로그아웃
    function logout(){
        $.removeCookie('mytoken')
        window.location.replace("/")
    }
  

        
</script>
<body>

    Hello! list
    <input type="submit" value="로그아웃" onclick="logout()" />
    <input type="submit" value="새글작성" onclick="create()"/>

</body>



    
    


</body>
</html>